<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    //最简单的单例模式
    var singleton = {
        prop:"value",
        method:function(){
        }
    }



    //私有成员的单例模式
    var singleton = (function () {
        var privateVar = "private";
        return {
            prop: "value",
            method: function () {
                console.log(privateVar);
            }
        }
    })();       //闭包
    //首先是一个自执行的匿名函数，在匿名函数中，声明了一个变量privateVar，
    // 返回一个对象赋值给单例对象singleton。在匿名函数外部无法访问到privateVar变量，
    // 它就是单例对象的私有变量，只能在函数内部或通过暴露出来的方法去访问这个私有变量。
    // 这种形式又被成为模块模式。



    //饿汉式单例
    var Person = function(){
        this.name = 'hexie';
    }

    Person.prototype.showName = function(){
        return this.name;
    }

    var Singleton = function(){
        var person = new Person()
        this.getInstance = function(){
            return person
        }
    }




    //懒汉式单例
    var Singleton = function(){
        var person = null;
        this.getInstance = function(){
            if(person === null){
                person = new Person();
            }
            return person;
        }
    }
//    //优点
//
//    内存中只有一个对象，节省内存空间
//    避免频繁销毁对象，提高性能。
//    避免共享资源多重占用。
//    可以全局访问。
</script>

</body>
</html>